import{jsx as o,jsxs as e}from"react/jsx-runtime";import{useState as n}from"react";var l=function(){return l=Object.assign||function(o){for(var e,n=1,l=arguments.length;n<l;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},l.apply(this,arguments)};function r(o,e,n){if(n||2===arguments.length)for(var l,r=0,i=e.length;r<i;r++)!l&&r in e||(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return o.concat(l||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var i=20;function t(o){void 0===o&&(o=0);for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o<=i-1?e[o]?e[o]:t.apply(void 0,r([o+1],e,!1)):void 0}function a(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return t.apply(void 0,r([1],o,!1))}function c(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return o?o.filter((function(o){return!!o})).join(" "):""}var d=function(e){var r=e.value,i=e.onChange,t=e.row,a=e.column,c=n(!1),d=c[0],u=c[1],s=n(r),v=s[0],m=s[1];return d?o("input",{type:"text",value:v,onChange:function(o){m(o.target.value)},onBlur:function(){i({row:t,column:a},v),u(!1)}}):o("div",l({onDoubleClick:function(){u(!0)}},{children:r}))},u=function(e){var n,r,i={row:e.row,value:e.value,column:e.column},t=e.column.render?e.column.render(i):e.value;return o("td",l({className:a(null===(n=e.overrideClasses)||void 0===n?void 0:n.root,c(null===(r=e.classes)||void 0===r?void 0:r.root,"am_table__body--cell am_table__body__cell--root")),onClick:function(){e.onCellClick&&e.onCellClick(i)}},{children:e.column.editable&&e.onCellChange?o(d,{value:e.value,onChange:e.onCellChange,column:e.column,row:e.row}):t}))},s=function(i){var t,d,s,v=n([]),m=v[0],f=v[1];return e("tr",l({className:a(null===(t=i.overrideClasses)||void 0===t?void 0:t.root,c(null===(d=i.classes)||void 0===d?void 0:d.root,"am_table__body--row am_table__body__row--root")),onClick:function(){return i.onRowClick?i.onRowClick(i.row):void 0}},{children:[i.selection?o("td",{children:o("input",{type:"checkbox",checked:(s=i.row.index,m.some((function(o){return o.index===s}))),onChange:function(){return function(o){f((function(e){return e.some((function(e){return e.index===o}))?e.filter((function(e){return e.index!==o})):r(r([],e,!0),[i.row],!1)}))}(i.row.index)}})}):null,i.columns.map((function(e,n){return o(u,l({},i.cellProps,{row:i.row,column:e,value:i.row[e.name]}),n)}))]}))},v=function(e){var n,r;return o("tbody",l({className:a(null===(n=e.overrideClasses)||void 0===n?void 0:n.root,c(null===(r=e.classes)||void 0===r?void 0:r.root,"am_table__body am_table__body--root"))},{children:e.data.map((function(n,r){return o(s,l({},e.cellProps,{row:l(l({},n),{index:r}),columns:e.columns}),r)}))}))},m=function(n){var r,i,t,d;return e("th",l({style:{width:n.column.flex?"100% !important":n.column.width,minWidth:n.column.width?n.column.width:n.column.minWidth,maxWidth:n.column.width?n.column.width:n.column.maxWidth},onClick:function(){n.onCellClick&&n.onCellClick(n.column)},className:a(null===(r=n.overrideClasses)||void 0===r?void 0:r.root,c(null===(i=n.classes)||void 0===i?void 0:i.root,"am_table__header--cell am_table__header__cell--root"))},{children:[n.children,o(f,{classes:null===(t=n.classes)||void 0===t?void 0:t.resizeHandle,overrideClasses:null===(d=n.overrideClasses)||void 0===d?void 0:d.resizeHandle})]}))};function f(e){var n,l;return o("span",{onDrag:function(o){console.log(o)},className:a(null===(n=e.overrideClasses)||void 0===n?void 0:n.root,c(null===(l=e.classes)||void 0===l?void 0:l.root,"am_table__header__cell--resize-handle am_table__header__cell__resize-handle--root"))})}var h=function(i){var t,d,u,s,v,f,h=n(i.columns),_=h[0],p=h[1];return o("thead",l({className:a(null===(t=i.overrideClasses)||void 0===t?void 0:t.root,c(null===(d=i.classes)||void 0===d?void 0:d.root,"am_table__header am_table__header--root"))},{children:o("tr",l({className:a(null===(s=null===(u=i.overrideClasses)||void 0===u?void 0:u.row)||void 0===s?void 0:s.root,c(null===(f=null===(v=i.classes)||void 0===v?void 0:v.row)||void 0===f?void 0:f.root,"am_table__header--row am_table__header__row--root"))},{children:_.map((function(n,t){var a;return e(m,l({column:n,width:n.width,onResize:function(o,e){var n=e.width;return function(o,e){p((function(n){var l=r([],n,!0);return l[o].width=e,l}))}(t,n)},onClick:function(){return i.onSort(n.name)},classes:null===(a=i.classes)||void 0===a?void 0:a.cell},{children:[n.header,n.filterable?o("div",l({className:"filter-input"},{children:o("input",{type:"text",onChange:function(o){return i.onFilterChange(n.name,o.target.value)},placeholder:"جستجو"})})):null,i.sortedColumn===n.name&&o("span",l({className:"sort-icon"},{children:"asc"===i.sortDirection?"↑":"↓"}))]}),n.header)}))}))}))},_=function(r){var i,t,d,u,s,m,f,_,p,b,C,w,g,y,P,k,x,N=r.pagination,O=void 0!==N&&N,S=r.defaultSortedColumn,j=void 0===S?null:S,D=r.defaultSortDirection,z=void 0===D?"asc":D,W=function(o,e){var n={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&e.indexOf(l)<0&&(n[l]=o[l]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(o);r<l.length;r++)e.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(o,l[r])&&(n[l[r]]=o[l[r]])}return n}(r,["pagination","defaultSortedColumn","defaultSortDirection"]),A=n(j),E=A[0],R=A[1],F=n(z),H=F[0],L=F[1],M=n(1),B=M[0],I=M[1],T=n(null),q=T[0],G=T[1],J=W.itemsPerPage&&0!==W.itemsPerPage?Math.ceil(W.data.length/W.itemsPerPage):1,K=W.data.filter((function(o){return!q||Object.keys(q).every((function(e){var n=q[e].toLowerCase();return o[e].toLowerCase().includes(n)}))})),Q=W.itemsPerPage&&0!==W.itemsPerPage?K.slice((B-1)*W.itemsPerPage,B*W.itemsPerPage):K;return e("div",l({className:a(null===(t=null===(i=W.overrideClasses)||void 0===i?void 0:i.container)||void 0===t?void 0:t.root,c(null===(u=null===(d=W.classes)||void 0===d?void 0:d.container)||void 0===u?void 0:u.root,"am_table__container"))},{children:[o("div",l({className:a(null===(f=null===(m=null===(s=W.overrideClasses)||void 0===s?void 0:s.container)||void 0===m?void 0:m.wrapper)||void 0===f?void 0:f.root,c(null===(p=null===(_=W.classes)||void 0===_?void 0:_.container)||void 0===p?void 0:p.root,"am_table__wrapper"))},{children:e("table",l({className:a(null===(g=null===(w=null===(C=null===(b=W.overrideClasses)||void 0===b?void 0:b.container)||void 0===C?void 0:C.wrapper)||void 0===w?void 0:w.table)||void 0===g?void 0:g.root,c(null===(x=null===(k=null===(P=null===(y=W.classes)||void 0===y?void 0:y.container)||void 0===P?void 0:P.wrapper)||void 0===k?void 0:k.table)||void 0===x?void 0:x.root,"am_table__table"))},{children:[o(h,{columns:W.columns,onSort:function(o){E===o?L("asc"===H?"desc":"asc"):(R(o),L("asc"))},sortedColumn:E,sortDirection:H,onFilterChange:function(o,e){G((function(n){var r;return l(l({},null!=n?n:{}),((r={})[o]=e,r))}))}}),o(v,{data:Q,columns:W.columns,rowProps:W.rowProps,cellProps:W.cellProps})]}))})),O?e("div",l({className:"pagination"},{children:[o("button",l({disabled:1===B,onClick:function(){return I(B-1)}},{children:"قبل"})),e("span",{children:["صفحه ",B," از ",J]}),o("button",l({disabled:B===J,onClick:function(){return I(B+1)}},{children:"بعد"}))]})):null]}))};export{_ as AmirMuhaTable};
//# sourceMappingURL=index.js.map

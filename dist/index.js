import{jsx as o,jsxs as e}from"react/jsx-runtime";import{useState as n}from"react";var l=function(){return l=Object.assign||function(o){for(var e,n=1,l=arguments.length;n<l;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},l.apply(this,arguments)};function r(o,e,n){if(n||2===arguments.length)for(var l,r=0,i=e.length;r<i;r++)!l&&r in e||(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return o.concat(l||Array.prototype.slice.call(e))}function i(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return o?o.filter((function(o){return!!o})).join(" "):""}"function"==typeof SuppressedError&&SuppressedError;var t=20;function a(o){void 0===o&&(o=0);for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o<=t-1?e[o]?e[o]:a.apply(void 0,r([o+1],e,!1)):void 0}function d(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return a.apply(void 0,r([1],o,!1))}var c=function(e){var r=e.value,i=e.onChange,t=e.row,a=e.column,d=n(!1),c=d[0],u=d[1],s=n(r),v=s[0],m=s[1];return c?o("input",{type:"text",value:v,onChange:function(o){m(o.target.value)},onBlur:function(){i({row:t,column:a},v),u(!1)}}):o("div",l({onDoubleClick:function(){u(!0)}},{children:r}))},u=function(e){var n,r,t={row:e.row,value:e.value,column:e.column},a=e.column.render?e.column.render(t):e.value;return o("td",l({className:d(null===(n=e.overrideClasses)||void 0===n?void 0:n.root,i(null===(r=e.classes)||void 0===r?void 0:r.root,"am_table__body--cell am_table__body__cell--root")),onClick:function(){e.onCellClick&&e.onCellClick(t)}},{children:e.column.editable&&e.onCellChange?o(c,{value:e.value,onChange:e.onCellChange,column:e.column,row:e.row}):a}))},s=function(t){var a,c,s,v=n([]),m=v[0],p=v[1];return e("tr",l({className:d(null===(a=t.overrideClasses)||void 0===a?void 0:a.root,i(null===(c=t.classes)||void 0===c?void 0:c.root,"am_table__body--row am_table__body__row--root")),onClick:function(){t.onRowClick&&t.onRowClick(t.row)}},{children:[t.selection?o("td",{children:o("input",{type:"checkbox",checked:(s=t.row.index,m.some((function(o){return o.index===s}))),onChange:function(){return function(o){p((function(e){return e.some((function(e){return e.index===o}))?e.filter((function(e){return e.index!==o})):r(r([],e,!0),[t.row],!1)}))}(t.row.index)}})}):null,t.columns.map((function(e,n){return o(u,l({},t.cellProps,{row:t.row,column:e,value:t.row[e.name]}),n)}))]}))},v=function(e){var n,r;return o("tbody",l({className:d(null===(n=e.overrideClasses)||void 0===n?void 0:n.root,i(null===(r=e.classes)||void 0===r?void 0:r.root,"am_table__body am_table__body--root"))},{children:e.data.map((function(n,r){return o(s,l({},e.rowProps,{cellProps:e.cellProps,row:l(l({},n),{index:r}),columns:e.columns}),r)}))}))},m=function(n){var r,t,a,c;return e("th",l({style:{width:n.column.flex?"100% !important":n.column.width,minWidth:n.column.width?n.column.width:n.column.minWidth,maxWidth:n.column.width?n.column.width:n.column.maxWidth},onClick:function(){n.onCellClick&&n.onCellClick(n.column)},className:d(null===(r=n.overrideClasses)||void 0===r?void 0:r.root,i(null===(t=n.classes)||void 0===t?void 0:t.root,"am_table__header--cell am_table__header__cell--root"))},{children:[n.children,o(p,{classes:null===(a=n.classes)||void 0===a?void 0:a.resizeHandle,overrideClasses:null===(c=n.overrideClasses)||void 0===c?void 0:c.resizeHandle})]}))};function p(e){var n,l;return o("span",{onDrag:function(o){console.log(o)},className:d(null===(n=e.overrideClasses)||void 0===n?void 0:n.root,i(null===(l=e.classes)||void 0===l?void 0:l.root,"am_table__header__cell--resize-handle am_table__header__cell__resize-handle--root"))})}var h=function(t){var a,c,u,s,v,p,h=n(t.columns),f=h[0],_=h[1];return o("thead",l({className:d(null===(a=t.overrideClasses)||void 0===a?void 0:a.root,i(null===(c=t.classes)||void 0===c?void 0:c.root,"am_table__header am_table__header--root"))},{children:o("tr",l({className:d(null===(s=null===(u=t.overrideClasses)||void 0===u?void 0:u.row)||void 0===s?void 0:s.root,i(null===(p=null===(v=t.classes)||void 0===v?void 0:v.row)||void 0===p?void 0:p.root,"am_table__header--row am_table__header__row--root"))},{children:f.map((function(n,i){var a;return e(m,l({column:n,width:n.width,onResize:function(o,e){var n=e.width;return function(o,e){_((function(n){var l=r([],n,!0);return l[o].width=e,l}))}(i,n)},onClick:function(){return t.onSort(n.name)},classes:null===(a=t.classes)||void 0===a?void 0:a.cell},{children:[n.header,n.filterable?o("div",l({className:"filter-input"},{children:o("input",{type:"text",onChange:function(o){return t.onFilterChange(n.name,o.target.value)},placeholder:"جستجو"})})):null,t.sortedColumn===n.name&&o("span",l({className:"sort-icon"},{children:"asc"===t.sortDirection?"↑":"↓"}))]}),n.header)}))}))}))};function f(n){var r=n.currentPage,i=n.totalPages,t=1===r;return e("div",l({className:"am_container__pagination"},{children:[o("button",l({disabled:1===r},{children:"قبل"})),e("span",{children:["صفحه ",r," از ",i]}),o("button",l({disabled:t},{children:"بعد"}))]}))}var _=function(r){var t,a,c,u,s,m,p,_,b,w,C,g,P,y,x,k,N,O,S,j,D,z,W,A,E=r.defaultSortedColumn,R=void 0===E?null:E,F=r.defaultSortDirection,H=void 0===F?"asc":F,L=function(o,e){var n={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&e.indexOf(l)<0&&(n[l]=o[l]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(o);r<l.length;r++)e.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(o,l[r])&&(n[l[r]]=o[l[r]])}return n}(r,["defaultSortedColumn","defaultSortDirection"]),M=n(R),B=M[0],I=M[1],T=n(H),q=T[0],G=T[1],J=n(1),K=J[0];J[1];var Q=n(null),U=Q[0],V=Q[1];!(null===(t=L.paginationProps)||void 0===t?void 0:t.itemsPerPage)||0===(null===(a=L.paginationProps)||void 0===a?void 0:a.itemsPerPage)||Math.ceil(L.data.length/(null===(c=L.paginationProps)||void 0===c?void 0:c.itemsPerPage));var X=L.data.filter((function(o){return!U||Object.keys(U).every((function(e){var n=U[e].toLowerCase();return o[e].toLowerCase().includes(n)}))})),Y=(null===(u=L.paginationProps)||void 0===u?void 0:u.itemsPerPage)&&0!==(null===(s=L.paginationProps)||void 0===s?void 0:s.itemsPerPage)?X.slice((K-1)*(null===(m=L.paginationProps)||void 0===m?void 0:m.itemsPerPage),K*(null===(p=L.paginationProps)||void 0===p?void 0:p.itemsPerPage)):X;return e("div",l({className:d(null===(b=null===(_=L.overrideClasses)||void 0===_?void 0:_.container)||void 0===b?void 0:b.root,i(null===(C=null===(w=L.classes)||void 0===w?void 0:w.container)||void 0===C?void 0:C.root,"am_table__container"))},{children:[o("div",l({className:d(null===(y=null===(P=null===(g=L.overrideClasses)||void 0===g?void 0:g.container)||void 0===P?void 0:P.wrapper)||void 0===y?void 0:y.root,i(null===(k=null===(x=L.classes)||void 0===x?void 0:x.container)||void 0===k?void 0:k.root,"am_table__wrapper"))},{children:e("table",l({className:d(null===(j=null===(S=null===(O=null===(N=L.overrideClasses)||void 0===N?void 0:N.container)||void 0===O?void 0:O.wrapper)||void 0===S?void 0:S.table)||void 0===j?void 0:j.root,i(null===(A=null===(W=null===(z=null===(D=L.classes)||void 0===D?void 0:D.container)||void 0===z?void 0:z.wrapper)||void 0===W?void 0:W.table)||void 0===A?void 0:A.root,"am_table__table"))},{children:[o(h,{columns:L.columns,onSort:function(o){B===o?G("asc"===q?"desc":"asc"):(I(o),G("asc"))},sortedColumn:B,sortDirection:q,onFilterChange:function(o,e){V((function(n){var r;return l(l({},null!=n?n:{}),((r={})[o]=e,r))}))}}),o(v,{data:Y,columns:L.columns,rowProps:L.rowProps,cellProps:L.cellProps})]}))})),L.paginationProps?o(f,l({},L.paginationProps)):null]}))};export{_ as AmirMuhaTable};
//# sourceMappingURL=index.js.map
